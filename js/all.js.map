{"version":3,"sources":["all.js"],"names":["pomodoroTime","toolMissionName","missionArray","JSON","parse","localStorage","getItem","main","document","querySelector","inputMissionBtn","mission","missionList","missionMoreLink","missionComplete","missionCompleteList","missionName","pomodoro","pomodoroPlay","pomodoroPause","pomodoroStop","tools","querySelectorAll","circleValue","getCircleValue","parseInt","pomodoroCircleAnime","getAttribute","pomodoroWorkMinute","time","counter","temp","pomodoroRelaxMinute","tempCounter","pomodoroMinute","toolAllList","linkList","linkRingtone","tooltoDoList","toolAnalytic","toolRingtone","missionFoldedToDolist","toolListClose","missionFoldedDonelist","getCompleteCircleValue","toolMissionCountDown","pomodoroStart","inputMission","inputMissionFolded","value","push","addMission","circleCompleteValue","updateMission","setItem","stringify","completeListStr","listStr","listFoldStr","item","index","concat","nameStr","array","innerHTML","remove","classList","add","completeCircleAnime","completeStr","preventDefault","missionNameStr","num","tempMissionArray","updateTempMission","tempCircleCompleteValue","delMission","e","join","target","nodeName","hideMainPage","pageName","missionnum","map","linkAnalytic","setCitcleValue","countDownValue","link","countDownCompleteValue","pomodoroRelaxFinish","toolPomodoroPlay","pomodoroFinish","clearPomodoro","pomodoroSecond","pomodoroUpdate","pomodoroMinuteIfZero","pomodoroSecondIfZero","missionCountDown","setAttribute","toolPomodoroPause","clearInterval","pausePomodoro","ctx","datasets","data","legend","labels","xAxes","gridLines","display","fontColor","addEventListener","changeLinkColor","tool","name","setInterval","inputMissionFoldedBtn","showMainPage","workRingtonesPlayNone","ringtonesArray","workRingtonesNone","breakRingtonesPlayNone","breakRingtonesNone","ringtones","workNowPlay","label","workNowPlayBtn","backgroundColor","breakNowPlayBtn","playWorkRingtones","options","scales","playBreakRingtones","ticks","yAxes","load","beginAtZero","clearWorkRingtones","children","clearBreakRingtones","breakNowPlay","forEach","ringtone","playBtn","play","loop"],"mappings":"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","file":"all.js","sourcesContent":["(() => {\r\n    // array variables\r\n    let missionArray = JSON.parse(localStorage.getItem('missionContent')) || [];\r\n    // let tempMissionArray = JSON.parse(localStorage.getItem('tempMissionContent')) || [];\r\n    let tempMissionArray = [];\r\n\r\n    // --------------------------------------\r\n    // variables\r\n    // --------------------------------------\r\n    let main = document.querySelector('.js-main'); // selector\r\n\r\n    // element\r\n    let inputMissionBtn = document.querySelector('.js-mission-btn');\r\n    let mission = document.querySelector('.js-mission');\r\n    let missionList = document.querySelector('.js-mission-list');\r\n    let missionMoreLink = document.querySelector('.js-mission-more-link');\r\n    let missionComplete = document.querySelector('.js-mission-complete');\r\n    let missionCompleteList = document.querySelector('.js-mission-complete-list');\r\n    let missionName = document.querySelector('.js-mission-name');\r\n    let missionCountDown = document.querySelector('.js-mission-countDown');\r\n\r\n    // pomodoro\r\n    let pomodoro = document.querySelector('.js-pomodoro');\r\n    let pomodoroPlay = document.querySelector('.js-pomodoro-play');\r\n    let pomodoroPause = document.querySelector('.js-pomodoro-pause');\r\n    let pomodoroStop = document.querySelector('.js-pomodoro-stop');\r\n\r\n    // link\r\n    let tools = document.querySelectorAll('.js-tools');\r\n\r\n    // circle variables\r\n    let pomodoroCircleAnime = document.querySelector('.js-pomodoro-animation-circle');\r\n    let getCircleValue = parseInt(pomodoroCircleAnime.getAttribute('stroke-dashoffset'));\r\n    let circleValue = getCircleValue; // 跑動畫的 variables\r\n\r\n    // pomodoro time variables\r\n    let pomodoroTime;\r\n    let pomodoroWorkMinute = { 'time': 25, 'counter': 0, 'temp': 0 }; // 初始時間：25 min  跑過幾次  暫停時間\r\n    let pomodoroRelaxMinute = { 'time': 5, 'counter': 0, 'temp': 0 }; // 初始時間： 5 min\r\n    let tempCounter = 0; // 計算暫停次數\r\n    let pomodoroMinute = 0; // 跑動畫 Minute\r\n    let pomodoroSecond = 0; // 跑動畫 Second\r\n\r\n    // --------------------------------------\r\n    // todoList page variables\r\n    // --------------------------------------\r\n    let toolAllList = document.querySelector('.js-tool-allList');\r\n    // link\r\n    let linkList = document.querySelector('.js-link-toDOlist');\r\n    let linkAnalytic = document.querySelector('.js-link-analytic');\r\n    let linkRingtone = document.querySelector('.js-link-ringtone');\r\n    // content\r\n    let tooltoDoList = toolAllList.querySelector('.js-tool-toDoList');\r\n    let toolAnalytic = toolAllList.querySelector('.js-tool-analytic');\r\n    let toolRingtone = toolAllList.querySelector('.js-tool-ringtone');\r\n    // element\r\n    let inputMissionFoldedBtn = document.querySelector('.js-mission-btn-folded');\r\n    let missionFoldedToDolist = document.querySelector('.js-mission-folded-toDolist');\r\n    let missionFoldedDonelist = document.querySelector('.js-mission-folded-donelist');\r\n    // pomodoro\r\n    let toolMissionCountDown = document.querySelector('.js-tool-time-countDown');\r\n    let toolMissionName = document.querySelector('.js-tool-time-name');\r\n    let toolPomodoroPlay = document.querySelector('.js-tool-pomodoro-play');\r\n    let toolPomodoroPause = document.querySelector('.js-tool-pomodoro-pause');\r\n    // close\r\n    let toolListClose = document.querySelector('.js-tool-list-close');\r\n\r\n    // input circle variables\r\n    let completeCircleAnime = \"\";\r\n    let getCompleteCircleValue = 0;\r\n    let circleCompleteValue = 0;\r\n    let tempCircleCompleteValue; // 暫存 circle 值 (避免更新 input list 後重跑)\r\n\r\n\r\n    // --------------------------------------\r\n    // mission 監聽\r\n    // --------------------------------------\r\n    inputMissionBtn.addEventListener('click', addMission); // 輸入監聽\r\n    missionList.addEventListener('click', delMission); // missionList Btn 監聽\r\n    missionComplete.addEventListener('click', delMission); // missionComplete Btn 監聽\r\n\r\n    missionMoreLink.addEventListener('click', () => {\r\n        hideMainPage(toolAllList);\r\n        hideMainPage(tooltoDoList);\r\n        changeLinkColor(linkList);\r\n    });\r\n\r\n    tools.forEach(tool => {\r\n        tool.addEventListener('click', (e) => {\r\n            let name, link;\r\n            if (e.target.getAttribute('name') === 'list') {\r\n                name = tooltoDoList, link = linkList;\r\n            } else if (e.target.getAttribute('name') === 'chart') {\r\n                name = toolAnalytic, link = linkAnalytic;\r\n            } else if (e.target.getAttribute('name') === 'music') {\r\n                name = toolRingtone, link = linkRingtone;\r\n            }\r\n\r\n            hideMainPage(toolAllList);\r\n            hideMainPage(name);\r\n            changeLinkColor(link);\r\n        });\r\n    });\r\n\r\n    toolListClose.addEventListener('click', () => showMainPage(toolAllList));\r\n\r\n    // todo List Page\r\n    inputMissionFoldedBtn.addEventListener('click', addMission);\r\n    missionFoldedToDolist.addEventListener('click', delMission);\r\n\r\n\r\n    // --------------------------------------\r\n    // pomodoro 監聽\r\n    // --------------------------------------\r\n    pomodoroPlay.addEventListener('click', () => {\r\n        // pomodoro 開始後樣式\r\n        pomodoro.classList.add('active');\r\n        // 休息 5 分結束後，從 25 分重新開始計算\r\n        if (pomodoroWorkMinute['counter'] < pomodoroRelaxMinute['counter']) {\r\n            // 判斷是否有暫停\r\n            if (tempCounter > 0) {\r\n                pomodoroMinute = pomodoroWorkMinute['temp'];\r\n            } else {\r\n                pomodoroMinute = pomodoroWorkMinute['time'];\r\n            }\r\n            pomodoroStart(pomodoroMinute);\r\n        }\r\n        // 工作 25 分結束後，從 5 分重新開始計算\r\n        else if (pomodoroWorkMinute['counter'] > pomodoroRelaxMinute['counter']) {\r\n            if (tempCounter > 0) {\r\n                pomodoroMinute = pomodoroRelaxMinute['temp'];\r\n            } else {\r\n                pomodoroMinute = pomodoroRelaxMinute['time'];\r\n            }\r\n            pomodoroStart(pomodoroMinute);\r\n        }\r\n        else {\r\n            if (tempCounter > 0) {\r\n                pomodoroMinute = pomodoroWorkMinute['temp'];\r\n            } else {\r\n                pomodoroMinute = pomodoroWorkMinute['time'];\r\n            }\r\n\r\n            pomodoroStart(pomodoroMinute);\r\n        }\r\n    }); // pomodoro 計時監聽\r\n    pomodoroPause.addEventListener('click', pausePomodoro); // pomodoro 暫停監聽\r\n    pomodoroStop.addEventListener('click', clearPomodoro);  // pomodoro 停止監聽\r\n\r\n\r\n    // todo List Page\r\n    toolPomodoroPlay.addEventListener('click', () => {\r\n        // pomodoro 開始後樣式\r\n        pomodoro.classList.add('active');\r\n        // 休息 5 分結束後，從 25 分重新開始計算\r\n        if (pomodoroWorkMinute['counter'] < pomodoroRelaxMinute['counter']) {\r\n            // 判斷是否有暫停\r\n            if (tempCounter > 0) {\r\n                pomodoroMinute = pomodoroWorkMinute['temp'];\r\n            } else {\r\n                pomodoroMinute = pomodoroWorkMinute['time'];\r\n            }\r\n            pomodoroStart(pomodoroMinute);\r\n        }\r\n        // 工作 25 分結束後，從 5 分重新開始計算\r\n        else if (pomodoroWorkMinute['counter'] > pomodoroRelaxMinute['counter']) {\r\n            if (tempCounter > 0) {\r\n                pomodoroMinute = pomodoroRelaxMinute['temp'];\r\n            } else {\r\n                pomodoroMinute = pomodoroRelaxMinute['time'];\r\n            }\r\n            pomodoroStart(pomodoroMinute);\r\n        }\r\n        else {\r\n            if (tempCounter > 0) {\r\n                pomodoroMinute = pomodoroWorkMinute['temp'];\r\n            } else {\r\n                pomodoroMinute = pomodoroWorkMinute['time'];\r\n            }\r\n\r\n            pomodoroStart(pomodoroMinute);\r\n        }\r\n    }); // pomodoro 計時監聽\r\n    toolPomodoroPause.addEventListener('click', pausePomodoro); // pomodoro 暫停監聽\r\n\r\n    // --------------------------------------\r\n    // mission \r\n    // --------------------------------------\r\n    // 新增 mission\r\n    function addMission() {\r\n        // 取得 input 內容，並 push 到陣列\r\n        let inputMission = document.querySelector('.js-mission-input');\r\n\r\n        // todoList page\r\n        let inputMissionFolded = document.querySelector('.js-mission-input-folded');\r\n\r\n        if (inputMission.value !== '') {\r\n            missionArray.push(inputMission.value);\r\n        } else if (inputMissionFolded.value !== '') {\r\n            missionArray.push(inputMissionFolded.value);\r\n        }\r\n        else {\r\n            missionArray.push(inputMission.value);\r\n        }\r\n\r\n        tempCircleCompleteValue = circleCompleteValue; //暫存 circle 值\r\n        updateMission();\r\n        inputMission.value = '';\r\n        inputMissionFolded.value = '';\r\n    }\r\n\r\n    // 更新 mission\r\n    function updateMission() {\r\n        // array 轉成 string，儲存到 localStorage\r\n        localStorage.setItem('missionContent', JSON.stringify(missionArray));\r\n\r\n        let completeStr = \"\";\r\n        let nameStr = \"\";\r\n        let completeListStr = \"\";\r\n        let listStr = \"\";\r\n        let listFoldStr = \"\";\r\n        let missionNameStr = \"\";\r\n\r\n        missionArray.forEach((item, index, array) => {\r\n            // 第 0 筆顯示番茄鐘時間，其餘顯示在 list 中\r\n            if (index === 0) {\r\n                completeStr = `<div class=\"mission-complete d-flex justify-content-center align-items-center\" data-missionnum=${index}></div>`;\r\n                nameStr = `<span class=\"mission-name text-info text-uppercase font-weight-bold\">${array[index]}</span>`;\r\n                completeListStr += `\r\n                    <svg class=\"mission-complete-item\">\r\n                        <circle class=\"pomodoro-animation-circle js-complete-animation-circle\" cx=\"50%\" cy=\"50%\" r=\"5\" stroke-dashoffset=\"37\"></circle>\r\n                    </svg>\r\n                `;\r\n            } else {\r\n                listStr += `\r\n                    <li class=\"mission-item d-flex align-items-center\">\r\n                        <div class=\"mission-item-complete d-flex justify-content-center align-items-center\" data-missionnum=${index}></div>\r\n                        <div class=\"mission-item-name text-info ml-2 font-weight-bold text-uppercase\"><span>${array[index]}</span></div>\r\n                        <div class=\"mission-item-pomodoro d-flex justify-content-center align-items-center\">\r\n                            <i class=\"material-icons text-info\">play_arrow</i>\r\n                        </div>\r\n                    </li>\r\n                `;\r\n            }\r\n            // todoList page\r\n            listFoldStr += `\r\n                <li class=\"mission-item mb-2 d-flex align-items-center\">\r\n                    <div class=\"mission-item-complete bg-light d-flex justify-content-center align-items-center\" data-missionnum=${index}></div>\r\n                    <section class=\"mission-item-name text-info ml-2 font-weight-bold text-uppercase\">\r\n                        <span class=\"text-light\">${item}</span></section>\r\n                    <section class=\"mission-item-pomodoro d-flex justify-content-center align-items-center bg-light\">\r\n                        <i class=\"material-icons text-info\">play_arrow</i>\r\n                    </section>\r\n                </li>\r\n                `;\r\n            missionNameStr = array[0];\r\n\r\n\r\n            // 超過 4 筆 mission 增加動畫效果\r\n            if (array.length > 4) {\r\n                missionMoreLink.classList.add('active');\r\n            } else {\r\n                missionMoreLink.classList.remove('active');\r\n            }\r\n        });\r\n\r\n        missionComplete.innerHTML = completeStr;\r\n        missionName.innerHTML = nameStr;\r\n        missionCompleteList.innerHTML = completeListStr;\r\n        missionList.innerHTML = listStr;\r\n\r\n        // todoList page\r\n        missionFoldedToDolist.innerHTML = listFoldStr;\r\n        toolMissionName.innerHTML = missionNameStr;\r\n\r\n        // 判斷是否關閉 play 按鈕，並取得 completeCircle 的值\r\n        if (typeof missionArray[0] !== 'undefined') {\r\n            pomodoroPlay.classList.remove('disabled');\r\n\r\n            // 取得 completeCircle 的值\r\n            completeCircleAnime = document.querySelector('.js-complete-animation-circle');\r\n            getCompleteCircleValue = parseInt(completeCircleAnime.getAttribute('stroke-dashoffset'));\r\n            circleCompleteValue = tempCircleCompleteValue || getCompleteCircleValue;\r\n        } else {\r\n            pomodoroPlay.classList.add('disabled');\r\n        }\r\n    }\r\n\r\n    // 刪除 mission\r\n    function delMission(e) {\r\n        if (e.target.nodeName !== \"DIV\") return;\r\n        e.preventDefault();\r\n\r\n        // 取得 data-missionnum\r\n        let num = e.target.dataset.missionnum;\r\n\r\n        // 把值存到 tempmissionArray，並更新畫面\r\n        tempMissionArray.push(missionArray[num]);\r\n        updateTempMission();\r\n\r\n        // 刪除\r\n        missionArray.splice(num, 1);\r\n\r\n        tempCircleCompleteValue = circleCompleteValue; // 暫存 circle 值\r\n\r\n        updateMission();\r\n    }\r\n\r\n    // 顯示暫存 mission\r\n    function updateTempMission() {\r\n        // localStorage.setItem('tempMissionContent', JSON.stringify(tempMissionArray));\r\n        missionFoldedDonelist.innerHTML = tempMissionArray.map(item => {\r\n            return `\r\n            <li class=\"mission-item mb-2 d-flex align-items-center\">\r\n                <div class=\"mission-item-complete active bg-light d-flex justify-content-center align-items-center\"></div>\r\n                <section class=\"mission-item-name ml-2 font-weight-bold text-uppercase\">\r\n                    <del class=\"text-light text-decoration\">${item}</del>\r\n                </section>\r\n                <div class=\"mission-item-pomodoro d-flex justify-content-center align-items-center bg-light\"></div>\r\n            </li>\r\n        `\r\n        }).join('');\r\n    }\r\n\r\n    // 顯示點擊的頁面\r\n    function hideMainPage(pageName) {\r\n        pageName.classList.remove('d-none');\r\n        main.classList.add('d-none');\r\n    }\r\n\r\n    // 改變 page 連結顏色\r\n    function changeLinkColor(link) {\r\n        link.classList.remove('text-dark');\r\n        link.classList.add('text-primary');\r\n    }\r\n\r\n    // close btn 關閉頁面、清除所有樣式\r\n    function showMainPage() {\r\n        toolAllList.classList.add('d-none');\r\n        tooltoDoList.classList.add('d-none');\r\n        toolAnalytic.classList.add('d-none');\r\n        toolRingtone.classList.add('d-none');\r\n        linkList.classList.add('text-dark');\r\n        linkAnalytic.classList.add('text-dark');\r\n        linkRingtone.classList.add('text-dark');\r\n        linkList.classList.remove('text-primary');\r\n        linkAnalytic.classList.remove('text-primary');\r\n        linkRingtone.classList.remove('text-primary');\r\n        main.classList.remove('d-none');\r\n        main.classList.add('animation');\r\n    }\r\n\r\n    // --------------------------------------\r\n    // pomodoro \r\n    // --------------------------------------\r\n    function pomodoroStart() {\r\n        let setCitcleValue = '';\r\n        // 顯示 play icon\r\n        pomodoroPlay.classList.add('d-none');\r\n        pomodoroPause.classList.remove('d-none');\r\n        toolPomodoroPlay.classList.add('d-none');\r\n        toolPomodoroPause.classList.remove('d-none');\r\n\r\n        let countDownValue = 0;\r\n        let countDownCompleteValue = 0;\r\n\r\n        // circle 動畫，判斷載入哪一個時間\r\n        if (pomodoroWorkMinute['counter'] < pomodoroRelaxMinute['counter']) {\r\n            // 除 60s 能跑一圈 -> 乘上分鐘 = 每秒能跑多少\r\n            countDownValue = (getCircleValue / (60 * pomodoroWorkMinute['time']));\r\n            countDownCompleteValue = (getCompleteCircleValue / (60 * pomodoroWorkMinute['time']));\r\n        }\r\n        else if (pomodoroWorkMinute['counter'] > pomodoroRelaxMinute['counter']) {\r\n            countDownValue = (getCircleValue / (60 * pomodoroRelaxMinute['time']));\r\n            countDownCompleteValue = (getCompleteCircleValue / (60 * pomodoroRelaxMinute['time']));\r\n        }\r\n        else {\r\n            countDownValue = (getCircleValue / (60 * pomodoroWorkMinute['time']));\r\n            countDownCompleteValue = (getCompleteCircleValue / (60 * pomodoroWorkMinute['time']));\r\n        }\r\n\r\n        // 倒數計時\r\n        pomodoroTime = setInterval(() => {\r\n            // circle 動畫，每秒跑動畫\r\n            circleValue -= countDownValue;\r\n            circleCompleteValue -= countDownCompleteValue;\r\n            pomodoroCircleAnime.setAttribute('stroke-dashoffset', circleValue);\r\n            completeCircleAnime.setAttribute('stroke-dashoffset', circleCompleteValue);\r\n\r\n\r\n            // 當 minute 和 second 為 0 停止計時，並判斷結束樣式\r\n            if (pomodoroMinute === 0 && pomodoroSecond === 0) {\r\n                // 判斷到哪個樣式\r\n                if (pomodoroWorkMinute['counter'] < pomodoroRelaxMinute['counter']) {\r\n                    pomodoroFinish();\r\n                }\r\n                else if (pomodoroWorkMinute['counter'] > pomodoroRelaxMinute['counter']) {\r\n                    pomodoroRelaxFinish()\r\n                }\r\n                else {\r\n                    pomodoroFinish();\r\n                }\r\n\r\n                clearPomodoro();\r\n                return;\r\n            }\r\n            else {\r\n                // second 為 0，從 60 秒倒數、分鐘 -1\r\n                if (pomodoroSecond === 0) {\r\n                    pomodoroSecond = 60; // 60sec\r\n                    pomodoroMinute--;\r\n                }\r\n                // 倒數\r\n                pomodoroSecond--;\r\n            }\r\n\r\n            pomodoroUpdate();\r\n        }, 1000); // 每秒跑 function\r\n    }\r\n\r\n    function pomodoroUpdate() {\r\n        // 判斷是否小於 10，小於 10 則加 0 到數字上 (09、08 ...)\r\n        let pomodoroMinuteIfZero = (pomodoroMinute < 10 && pomodoroMinute >= 0) ? '0' + pomodoroMinute : pomodoroMinute;\r\n        let pomodoroSecondIfZero = (pomodoroSecond < 10 && pomodoroSecond >= 0) ? '0' + pomodoroSecond : pomodoroSecond;\r\n\r\n        missionCountDown.innerHTML = pomodoroMinuteIfZero + \":\" + pomodoroSecondIfZero;\r\n        toolMissionCountDown.innerHTML = pomodoroMinuteIfZero + \":\" + pomodoroSecondIfZero;\r\n    }\r\n\r\n    // pomodoro 結束樣式\r\n    function pomodoroFinish() {\r\n        mission.classList.remove('mission-primary');\r\n        mission.classList.add('mission-secondary');\r\n        pomodoro.classList.remove('pomodoro-primary');\r\n        pomodoro.classList.add('pomodoro-secondary');\r\n        // pomodoro 跑完加 1\r\n        pomodoroWorkMinute['counter']++;\r\n    }\r\n\r\n    // pomodoro relax 結束樣式\r\n    function pomodoroRelaxFinish() {\r\n        mission.classList.add('mission-primary');\r\n        mission.classList.remove('mission-secondary');\r\n        pomodoro.classList.add('pomodoro-primary');\r\n        pomodoro.classList.remove('pomodoro-secondary');\r\n        // relax 跑完加 1\r\n        pomodoroRelaxMinute['counter']++;\r\n    }\r\n\r\n    // pomodoro 暫停\r\n    function pausePomodoro() {\r\n        pomodoro.classList.remove('active');\r\n        pomodoroPlay.classList.remove('d-none');\r\n        pomodoroPause.classList.add('d-none');\r\n        toolPomodoroPlay.classList.remove('d-none');\r\n        toolPomodoroPause.classList.add('d-none');\r\n        pomodoroWorkMinute['temp'] = pomodoroMinute;\r\n        pomodoroRelaxMinute['temp'] = pomodoroMinute;\r\n        tempCounter++;\r\n        clearInterval(pomodoroTime);\r\n        return;\r\n    }\r\n\r\n    // 清除 pomodoro\r\n    function clearPomodoro() {\r\n        // 停止計時\r\n        clearInterval(pomodoroTime);\r\n\r\n        // 取消開始後的狀態\r\n        pomodoro.classList.remove('active');\r\n\r\n        // 隱藏 pause icon\r\n        pomodoroPlay.classList.remove('d-none');\r\n        pomodoroPause.classList.add('d-none');\r\n\r\n        // 結束後，清空 tempCounter (暫停次數)\r\n        tempCounter = 0;\r\n\r\n        // 恢復 circle 預設值\r\n        circleValue = getCircleValue;\r\n        pomodoroCircleAnime.setAttribute('stroke-dashoffset', circleValue);\r\n        circleCompleteValue = getCompleteCircleValue;\r\n        completeCircleAnime.setAttribute('stroke-dashoffset', circleCompleteValue);\r\n\r\n        // 恢復 25 / 5 分字樣\r\n        if (pomodoroWorkMinute['counter'] < pomodoroRelaxMinute['counter']) {\r\n            pomodoroMinute = 25\r\n            pomodoroSecond = 0;\r\n        }\r\n        else if (pomodoroWorkMinute['counter'] > pomodoroRelaxMinute['counter']) {\r\n            pomodoroMinute = 5\r\n            pomodoroSecond = 0;\r\n        }\r\n        else {\r\n            pomodoroMinute = 25\r\n            pomodoroSecond = 0;\r\n        }\r\n\r\n        pomodoroUpdate();\r\n\r\n        return;\r\n    }\r\n\r\n    // --------------------------------------\r\n    // chart 圖表\r\n    // --------------------------------------\r\n    var ctx = document.querySelector('.myChart').getContext('2d');\r\n    var myChart = new Chart(ctx, {\r\n        type: 'bar',\r\n        data: {\r\n            labels: ['7/1', '7/2', '7/3', '7/4', '7/5', '7/6', '7/7'],\r\n            datasets: [{\r\n                label: 'Bar Dataset',\r\n                data: [16, 12, 16, 8, 12, 4, 20],\r\n                backgroundColor: [\r\n                    'rgba(255, 255, 255)',\r\n                    'rgba(255, 255, 255)',\r\n                    'rgba(255, 255, 255)',\r\n                    'rgba(255, 255, 255)',\r\n                    'rgba(255, 255, 255)',\r\n                    'rgba(255, 255, 255)',\r\n                    'rgba(253, 141, 0)'\r\n                ],\r\n                borderWidth: 1\r\n            }]\r\n        },\r\n        options: {\r\n            legend: {\r\n                labels: {\r\n                    // This more specific font property overrides the global property\r\n                    fontColor: 'white',\r\n                }\r\n            },\r\n            scales: {\r\n                xAxes: [{\r\n                    gridLines: {\r\n                        display: false, // close x 軸線條\r\n                    },\r\n                    ticks: {\r\n                        fontColor: \"white\", // font color\r\n                    },\r\n                }],\r\n                yAxes: [{\r\n                    gridLines: {\r\n                        display: false, // close y 軸線條\r\n                    },\r\n                    ticks: {\r\n                        beginAtZero: true,\r\n                        fontColor: \"white\",\r\n                    }\r\n                }]\r\n            }\r\n        }\r\n    });\r\n\r\n    // --------------------------------------\r\n    // ringtones\r\n    // --------------------------------------\r\n    let ringtonesArray = ['none', 'default', 'alarm', 'alert', 'beep', 'bell', 'bird', 'bugle', 'digital', 'drop', 'horn', 'music', 'ring', 'warning', 'whistle'];\r\n    let workRingtonesPlayNone = document.querySelector('.js-work-ringtones-play-none');\r\n    let workRingtonesNone = document.querySelector('.js-work-ringtones-none');\r\n\r\n    let breakRingtonesPlayNone = document.querySelector('.js-break-ringtones-play-none');\r\n    let breakRingtonesNone = document.querySelector('.js-break-ringtones-none');\r\n\r\n    let ringtones = toolRingtone.querySelectorAll('.js-ringtones');\r\n    let workNowPlay = workRingtonesNone; // 記錄正在播放的鈴聲\r\n    let workNowPlayBtn = workRingtonesPlayNone; // 記錄正在播放的按鈕\r\n\r\n    let breakNowPlay = breakRingtonesNone; // 記錄正在播放的鈴聲\r\n    let breakNowPlayBtn = breakRingtonesPlayNone; // 記錄正在播放的按鈕\r\n\r\n\r\n    // 播放 Work 鈴聲\r\n    function playWorkRingtones(ringtones, playBtn) {\r\n        ringtones.play();\r\n        ringtones.loop = true;\r\n        playBtn.classList.add('active');\r\n        workNowPlay = ringtones;\r\n        workNowPlayBtn = playBtn;\r\n    }\r\n\r\n    // 清除 Work 鈴聲和按鈕\r\n    function clearWorkRingtones() {\r\n        workNowPlay.load(); // 重新載入鈴聲\r\n        workNowPlayBtn.classList.remove('active');\r\n    }\r\n\r\n    // 播放 Work 鈴聲\r\n    function playBreakRingtones(ringtones, playBtn) {\r\n        ringtones.play();\r\n        ringtones.loop = true;\r\n        playBtn.classList.add('active');\r\n        breakNowPlay = ringtones;\r\n        breakNowPlayBtn = playBtn;\r\n    }\r\n\r\n    // 清除 Work 鈴聲和按鈕\r\n    function clearBreakRingtones() {\r\n        breakNowPlay.load(); // 重新載入鈴聲\r\n        breakNowPlayBtn.classList.remove('active');\r\n    }\r\n\r\n    // 監聽\r\n    ringtones.forEach(ringtone => {\r\n        ringtone.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n\r\n            // 把 SECTION 以外的元素擋掉\r\n            if (e.target.nodeName !== 'SECTION') return;\r\n\r\n            ringtonesArray.forEach(item => {\r\n                // 判斷 classList 的 class name 是否相同\r\n                if (e.target.classList[1] === `js-work-ringtones-play-${item}`) {\r\n                    clearWorkRingtones();\r\n                    // e.target.children[0] 傳入子元素\r\n                    // e.target 傳入當下的元素\r\n                    playWorkRingtones(e.target.children[0], e.target);\r\n                }\r\n\r\n                if (e.target.classList[1] === `js-break-ringtones-play-${item}`) {\r\n                    clearBreakRingtones();\r\n                    playBreakRingtones(e.target.children[0], e.target);\r\n                }\r\n            });\r\n        });\r\n    });\r\n\r\n    // --------------------------------------\r\n    // 更新 input list\r\n    // --------------------------------------\r\n    updateMission();\r\n})();"]}